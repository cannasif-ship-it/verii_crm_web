---
alwaysApply: true
---


# ðŸ“˜ CRM Frontend - Developer & Contribution Guidelines

Bu belge, CRM (Customer Relationship Management) projesinde kod standartlarÄ±nÄ±, mimari kararlarÄ± ve geliÅŸtirme sÃ¼reÃ§lerini tanÄ±mlar. Projeye katkÄ±da bulunan tÃ¼m geliÅŸtiricilerin bu kurallara uymasÄ± beklenir.

---


## TEMEL KURAL
Asla yorum satÄ±rÄ± kullanmayÄ±n. MÃ¼mkÃ¼n olduÄŸunca shadcn componentlerini kullanmalÄ±sÄ±n. Folder structure ve proje yapÄ±sÄ±na aykÄ±rÄ± geliÅŸtirme yapmayÄ±n. Ä°stekleri tanstack query ile atÄ±n. Her isteÄŸe Ã¶zel staletime ekleyin ve lÃ¼tfen global olanÄ± kullanmamaya Ã¶zen gÃ¶sterin.

## Component Kutuphanesi

Bu projede shadcn kutuphenesi kullanÄ±lmaktadÄ±r. LÃ¼tfen geliÅŸtirmeleri bu kurala uygun yapÄ±nÄ±z.

## ðŸ—ï¸ 1. Mimari ve KlasÃ¶r YapÄ±sÄ± (Feature-First)

Bu projede **Feature-Based (Ã–zellik BazlÄ±)** mimari kullanÄ±lmaktadÄ±r. KodlarÄ± teknik tÃ¼rlerine gÃ¶re (tÃ¼m componentler bir yere, tÃ¼m servisler bir yere) **deÄŸil**, iÅŸlevlerine (domain) gÃ¶re grupluyoruz.

### AltÄ±n Kural: `Co-location`
Bir Ã¶zellik (Feature) ile ilgili her ÅŸey (API, Hook, Type, Component) aynÄ± klasÃ¶rde yaÅŸamalÄ±dÄ±r.

src/
â”œâ”€â”€ features/
â”‚   â”œâ”€â”€ inventory/          # Domain: Envanter YÃ¶netimi
â”‚   â”‚   â”œâ”€â”€ api/            # Sadece inventory API istekleri
â”‚   â”‚   â”œâ”€â”€ components/     # Sadece inventory'ye Ã¶zel bileÅŸenler
â”‚   â”‚   â”œâ”€â”€ hooks/          # useStockList, useStockUpdate vb.
â”‚   â”‚   â”œâ”€â”€ types/          # Inventory arayÃ¼zleri (interface)
â”‚   â”‚   â””â”€â”€ index.ts        # Public API (DÄ±ÅŸarÄ±ya aÃ§Ä±lan kapÄ±)

* **`components/ui`:** Sadece projede *her yerde* kullanÄ±lan, iÅŸ mantÄ±ÄŸÄ± iÃ§ermeyen (dumb) bileÅŸenler (Button, Input, Modal).
* **`lib/`:** 3. parti kÃ¼tÃ¼phane konfigÃ¼rasyonlarÄ± (Axios instance, QueryClient config).
* **`services/`:** Sadece *hiÃ§bir feature'a ait olmayan* genel servisler (FileUpload, CityLookup).

---

## ðŸ“ 2. Ä°simlendirme KurallarÄ± (Naming Conventions)

| TÃ¼r | Kural | Ã–rnek |
| :--- | :--- | :--- |
| **KlasÃ¶rler** | `kebab-case` | `features/user-profile`, `components/date-picker` |
| **Component DosyalarÄ±** | `PascalCase` | `StockTable.tsx`, `ConfirmModal.tsx` |
| **Hook DosyalarÄ±** | `camelCase` (use ile baÅŸlar) | `useDebounce.ts`, `useInventory.ts` |
| **Utility/Helper** | `camelCase` | `formatCurrency.ts`, `dateUtils.ts` |
| **Interface/Type** | `PascalCase` | `StockItem`, `UserResponse` |
| **Sabitler (Constants)** | `UPPER_SNAKE_CASE` | `MAX_FILE_SIZE`, `DEFAULT_PAGE_LIMIT` |

---

## ðŸ’» 3. Kodlama StandartlarÄ± ve TypeScript

### 3.1. `any` KullanÄ±mÄ± YasaktÄ±r ðŸš«
TypeScript'in gÃ¼cÃ¼nÃ¼ kullanÄ±n. EÄŸer bir veri tipini bilmiyorsanÄ±z `unknown` kullanÄ±n veya `Generic` yapÄ± kurun. `any` kullanÄ±mÄ± PR (Pull Request) reddi sebebidir.

### 3.2. Explicit Return Types
FonksiyonlarÄ±n ne dÃ¶ndÃ¼rdÃ¼ÄŸÃ¼ aÃ§Ä±kÃ§a belirtilmelidir.

// âœ… DOÄžRU
const calculateTotal = (price: number, tax: number): number => {
  return price + tax;
};

// âŒ YANLIÅž
const calculateTotal = (price: number, tax: number) => {
  return price + tax;
};

### 3.3. Barrel Export KullanÄ±mÄ±
Feature modÃ¼llerinde kapsÃ¼lleme (encapsulation) saÄŸlamak iÃ§in `index.ts` kullanÄ±n. DÄ±ÅŸarÄ±ya sadece gerekli parÃ§alarÄ± aÃ§Ä±n.

// features/inventory/index.ts
export * from './types';
export { StockTable } from './components/StockTable';
// api veya internal hooklarÄ± dÄ±ÅŸarÄ± aÃ§maya gerek yoksa export etmeyin.

---

## âš¡ 4. State Management Stratejisi

State yÃ¶netimi 3 kategoriye ayrÄ±lmÄ±ÅŸtÄ±r. YanlÄ±ÅŸ aracÄ± yanlÄ±ÅŸ yerde kullanmayÄ±n.

### A. Server State (Veri Ã‡ekme) -> `TanStack Query`
Backend'den gelen veriler (Stok listesi, SipariÅŸ detaylarÄ±) iÃ§in **asla** Redux veya Zustand kullanmayÄ±n.
* Cache, Loading, Error state'leri otomatik yÃ¶netilir.
* Custom hook iÃ§inde encapsulate edin: `useStockListQuery()`.

### B. Client/UI State (Global) -> `Zustand`
Sadece uygulama genelini ilgilendiren UI durumlarÄ± iÃ§in kullanÄ±n.
* Ã–rn: Sidebar aÃ§Ä±k/kapalÄ±, Aktif Tema, KullanÄ±cÄ± Oturum Bilgisi.

### C. Form State -> `React Hook Form` + `Zod`
Form verilerini state veya context'te tutmayÄ±n. Performans iÃ§in React Hook Form kullanÄ±n. Validasyon ÅŸemalarÄ± `zod` ile yazÄ±lmalÄ±dÄ±r.

---

## ðŸŒ 5. API ve Servis KullanÄ±mÄ±

### 5.1. Axios Instance
Asla saf `import axios from 'axios'` kullanmayÄ±n. `src/lib/axios.ts` iÃ§inde yapÄ±landÄ±rÄ±lmÄ±ÅŸ instance'Ä± kullanÄ±n. Bu instance, Token yÃ¶netimini ve hata yakalamayÄ± otomatik yapar.

### 5.2. Servis YapÄ±sÄ±
API Ã§aÄŸrÄ±larÄ±nÄ± Component iÃ§inde yapmayÄ±n. Servis dosyasÄ±na taÅŸÄ±yÄ±n.

// âœ… DOÄžRU: Component temiz kalÄ±r
const { data } = useQuery({ 
  queryKey: ['stock'], 
  queryFn: inventoryService.getAll 
});

// âŒ YANLIÅž: Component iÃ§inde fetch
useEffect(() => {
  axios.get('/stock').then(...)
}, []);

---

## ðŸ”„ 6. Git Workflow ve Commit MesajlarÄ±

### 6.1. Branch Ä°simlendirme
* `feature/feature-name` (Ã–rn: `feature/stock-transfer`)
* `fix/bug-name` (Ã–rn: `fix/login-error`)
* `refactor/component-name`

### 6.2. Commit MesajlarÄ± (Conventional Commits)
Commit mesajlarÄ± standart bir yapÄ±da olmalÄ±dÄ±r:

* `feat`: Yeni bir Ã¶zellik (feat: add barcode scanner)
* `fix`: Hata dÃ¼zeltmesi (fix: inventory count calculation)
* `docs`: DokÃ¼mantasyon deÄŸiÅŸikliÄŸi
* `style`: Formatlama, noktalÄ± virgÃ¼l vb. (kod mantÄ±ÄŸÄ± deÄŸiÅŸmez)
* `refactor`: Ne hata dÃ¼zelten ne de Ã¶zellik ekleyen kod deÄŸiÅŸikliÄŸi

---

## ðŸŽ¨ 7. Component YazÄ±m KurallarÄ±

### 7.1. Logic ve UI AyrÄ±mÄ±
MÃ¼mkÃ¼nse, karmaÅŸÄ±k mantÄ±ÄŸÄ± (veri Ã§ekme, hesaplama) Component iÃ§inden Ã§Ä±karÄ±p bir **Custom Hook**'a (`useStockLogic.ts`) taÅŸÄ±yÄ±n. Component sadece UI render etmelidir (View).

### 7.2. Props Destructuring
Props her zaman destructure edilmelidir.

// âœ… DOÄžRU
const UserCard = ({ name, role }: UserCardProps) => { ... }

// âŒ YANLIÅž
const UserCard = (props: UserCardProps) => { 
  return <div>{props.name}</div> 
}

---

*WMS Frontend Ekibi*